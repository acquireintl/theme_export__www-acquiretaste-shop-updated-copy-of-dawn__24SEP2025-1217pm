{% comment %} About — Modular (Luxury v2.1, robust values icons) {% endcomment %}
<section class="color-{{ section.settings.color_scheme }} gradient">
  <div class="page-width section-{{ section.id }}-padding">
    {% for block in section.blocks %}
      {% case block.type %}

        {% when 'hero' %}
          <div class="grid grid--1-col grid--2-col-tablet items-center gap">
            <div class="prose">
              {% if block.settings.eyebrow != blank %}<p class="eyebrow">{{ block.settings.eyebrow }}</p>{% endif %}
              {% if block.settings.heading != blank %}<h1 class="title h0">{{ block.settings.heading }}</h1>{% endif %}
              {% if block.settings.subheading != blank %}<p class="subtitle">{{ block.settings.subheading }}</p>{% endif %}
              {% if block.settings.cta_label != blank and block.settings.cta_link != blank %}
                <a class="button" href="{{ block.settings.cta_link }}">{{ block.settings.cta_label }}</a>
              {% endif %}
            </div>
            <div>
              {% assign img_d = block.settings.image_desktop %}
              {% assign img_m = block.settings.image_mobile | default: img_d %}
              {% if img_d != blank %}
                <picture>
                  {% if img_m != blank %}
                    <source media="(max-width: 749px)" srcset="{{ img_m | image_url: width: 750 }}">
                  {% endif %}
                  {{ img_d | image_url: width: 1500 | image_tag: loading: 'lazy', alt: block.settings.heading }}
                </picture>
              {% endif %}
            </div>
          </div>

        {% when 'story' %}
          <div class="rte" style="max-width: 72ch; margin: 0 auto;">
            {{ block.settings.body }}
          </div>

        {% when 'values' %}
          <div class="grid grid--1-col grid--3-col-tablet">
            {% for i in (1..6) %}
              {% assign icon_key = 'icon_' | append: i %}
              {% assign title_key = 'title_' | append: i %}
              {% assign copy_key  = 'copy_'  | append: i %}
              {% assign icon  = block.settings[icon_key] %}
              {% assign title = block.settings[title_key] %}
              {% assign copy  = block.settings[copy_key]  %}
              {% if icon != blank or title != blank or copy != blank %}
                <div class="card" style="padding:1.25rem;">
                  {% if icon != blank %}
                    <div class="media" style="margin-bottom:.75rem;">
                      <img src="{{ icon | image_url: width: 256 }}" alt="{{ title | escape }}" loading="lazy" width="256" height="256" style="max-width:128px;height:auto;">
                    </div>
                  {% endif %}
                  {% if title != blank %}<h3 class="h3" style="margin-bottom:.25rem;">{{ title }}</h3>{% endif %}
                  {% if copy != blank %}<p>{{ copy }}</p>{% endif %}
                </div>
              {% endif %}
            {% endfor %}
          </div>

        {% when 'gallery' %}
          {% assign count = 0 %}
          {% for i in (1..6) %}
            {% assign gkey = 'image_' | append: i %}
            {% if block.settings[gkey] != blank %}
              {% assign count = count | plus: 1 %}
            {% endif %}
          {% endfor %}
          {% if count > 0 %}
            <div class="grid grid--1-col grid--{{ block.settings.columns_tablet | default: 3 }}-col-tablet">
              {% for i in (1..6) %}
                {% assign gkey = 'image_' | append: i %}
                {% assign g = block.settings[gkey] %}
                {% if g != blank %}
                  <div class="media">
                    <img src="{{ g | image_url: width: 1100 }}" alt="{{ block.settings.gallery_alt | escape }}" loading="lazy">
                  </div>
                {% endif %}
              {% endfor %}
            </div>
          {% endif %}

      {% endcase %}
    {% endfor %}
  </div>
</section>

{% schema %}
{
  "name": "About — modular",
  "settings": [
    { "type": "color_scheme", "id": "color_scheme", "label": "Colors", "default": "scheme-1" }
  ],
  "blocks": [
    { "type": "hero", "name": "Hero (with images)", "settings": [
      { "type": "text", "id": "eyebrow", "label": "Eyebrow", "default": "AcquireTaste" },
      { "type": "text", "id": "heading", "label": "Heading", "default": "Luxury streetwear, built to last" },
      { "type": "textarea", "id": "subheading", "label": "Subheading", "default": "Clean lines, elevated fabrics, details that hold up to daily wear." },
      { "type": "image_picker", "id": "image_desktop", "label": "Desktop image" },
      { "type": "image_picker", "id": "image_mobile", "label": "Mobile image (optional)" },
      { "type": "text", "id": "cta_label", "label": "Button label", "default": "Shop the collection" },
      { "type": "url", "id": "cta_link", "label": "Button link", "default": "/collections/all" }
    ]},
    { "type": "story", "name": "Story", "settings": [
      { "type": "richtext", "id": "body", "label": "Body", "default": "<p><strong>The idea is simple:</strong> premium materials, refined cuts, and obsessive construction. Quality you can feel, service that answers, shipping that’s fast.</p>" }
    ]},
    { "type": "values", "name": "Values (3–6)", "settings": [
      { "type": "image_picker", "id": "icon_1", "label": "Icon 1" },
      { "type": "text", "id": "title_1", "label": "Title 1", "default": "High-quality materials" },
      { "type": "textarea", "id": "copy_1", "label": "Copy 1", "default": "Combed cottons and luxe blends for softness, weight, and longevity." },

      { "type": "image_picker", "id": "icon_2", "label": "Icon 2" },
      { "type": "text", "id": "title_2", "label": "Title 2", "default": "Precise fit" },
      { "type": "textarea", "id": "copy_2", "label": "Copy 2", "default": "Tailored where it matters, relaxed where it counts." },

      { "type": "image_picker", "id": "icon_3", "label": "Icon 3" },
      { "type": "text", "id": "title_3", "label": "Title 3", "default": "Built for daily wear" },
      { "type": "textarea", "id": "copy_3", "label": "Copy 3", "default": "Reinforced seams and finishes that keep their shape." },

      { "type": "image_picker", "id": "icon_4", "label": "Icon 4" },
      { "type": "text", "id": "title_4", "label": "Title 4", "default": "Great customer service" },
      { "type": "textarea", "id": "copy_4", "label": "Copy 4", "default": "Real humans. Fast replies. We make it right." },

      { "type": "image_picker", "id": "icon_5", "label": "Icon 5" },
      { "type": "text", "id": "title_5", "label": "Title 5", "default": "Fast shipping" },
      { "type": "textarea", "id": "copy_5", "label": "Copy 5", "default": "Quick processing and reliable delivery from the U.S." },

      { "type": "image_picker", "id": "icon_6", "label": "Icon 6" },
      { "type": "text", "id": "title_6", "label": "Title 6", "default": "Considered details" },
      { "type": "textarea", "id": "copy_6", "label": "Copy 6", "default": "Minimal branding, premium trims, elevated feel." }
    ]},
    { "type": "gallery", "name": "Gallery (1–6)", "settings": [
      { "type": "image_picker", "id": "image_1", "label": "Image 1" },
      { "type": "image_picker", "id": "image_2", "label": "Image 2" },
      { "type": "image_picker", "id": "image_3", "label": "Image 3" },
      { "type": "image_picker", "id": "image_4", "label": "Image 4" },
      { "type": "image_picker", "id": "image_5", "label": "Image 5" },
      { "type": "image_picker", "id": "image_6", "label": "Image 6" },
      { "type": "text", "id": "gallery_alt", "label": "Alt text (optional)" },
      { "type": "range", "id": "columns_tablet", "label": "Columns on tablet/desktop", "min": 2, "max": 4, "step": 1, "default": 3 }
    ]}
  ],
  "presets": [{ "name": "About — modular (Luxe)" }]
}
{% endschema %}
